(this["webpackJsonpdeckbuilder-web"]=this["webpackJsonpdeckbuilder-web"]||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(59),l=a.n(c),s=(a(67),a(68),a(8)),i=a(4),o=a(18);function u(){var e=Object(o.a)(),t=e.register,a=e.handleSubmit,c=e.errors,l=Object(n.useContext)(ae),u=l.myUserService,m=l.toastService,d=Object(i.g)();return r.a.createElement("div",{className:"container max-w-md"},r.a.createElement("h1",{className:"text-center text-white-100 m-5"},"Pok\xe9mon TCG Deckbuilder"),r.a.createElement("form",{onSubmit:a((function(e){return u.signUp(e).then((function(e){200===e.status?(m.showSuccessToast("Successfully created account for ".concat(e.data.email)),d.push("/")):m.showErrorToast("User already exists.")})).catch((function(){return m.showErrorToast("Error creating user. Please try again later.")}))}))},r.a.createElement("label",{className:"text-white-100"},"First Name:"),r.a.createElement("input",{type:"text",name:"firstName",className:"mb-2",ref:t()}),r.a.createElement("label",{className:"text-white-100"},"Last Name:"),r.a.createElement("input",{type:"text",name:"lastName",className:"mb-2",ref:t()}),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{className:"text-white-100"},"Email:"),r.a.createElement("input",{type:"text",name:"email",ref:t({required:!0})}),c.email?r.a.createElement("div",{className:"text-error"},"Email is required."):null),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{className:"text-white-100"},"Password:"),r.a.createElement("input",{type:"password",name:"password",ref:t({required:!0})}),c.password?r.a.createElement("div",{className:"text-error"},"Password is required."):null),r.a.createElement("button",{type:"submit",className:"btn btn-primary my-4 text-right"},"Sign Up")),r.a.createElement("small",{className:"text-white-100 block"},"Have an account? ",r.a.createElement(s.b,{to:"/"},"Return to login.")))}var m=function(e,t){var a=Object.keys(t).filter((function(e){return t[e]})).join(" ");return a?e+" "+a:e};function d(){var e=Object(o.a)(),t=e.register,a=e.handleSubmit,c=e.errors,l=Object(n.useContext)(ae),u=l.myUserService,d=l.toastService,b=Object(i.g)(),f=function(e){return u.login(e).then((function(){return b.push("/dashboard")})).catch((function(){return d.showErrorToast("Failed to login.")}))};return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center text-white-100 m-5"},"Pok\xe9mon TCG Deckbuilder"),r.a.createElement("form",{onSubmit:a(f)},r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{className:"text-white-100"},"Email:"),r.a.createElement("input",{type:"text",name:"email",ref:t({required:!0}),className:m("mb-1",{"border-error":c.email})}),c.email?r.a.createElement("div",{className:"text-error"},"Email is required."):null),r.a.createElement("div",null,r.a.createElement("label",{className:"text-white-100"},"Password:"),r.a.createElement("input",{type:"password",name:"password",ref:t({required:!0}),className:"mb-1"}),c.password?r.a.createElement("div",{className:"text-error"},"Password is required."):null),r.a.createElement("button",{className:"btn btn-primary my-4 text-right",type:"submit"},"Login")),r.a.createElement("small",{className:"text-white-100 block"},"Don't have an account? ",r.a.createElement(s.b,{to:"/signup"},"Sign up.")),r.a.createElement("small",{className:"text-white-100 block cursor-pointer"},r.a.createElement("a",{onClick:function(){return f({email:"GUEST",password:"password"})}},"Alternatively, ",r.a.createElement("span",{className:"underline"},"Sign in as guest"),".")))}function b(e){return r.a.createElement("div",{className:"bg-blue-100 h-screen flex items-center justify-center"},e.children)}var f=function(e){var t=e.isAuthenticated,a=e.children;return t?r.a.createElement(r.a.Fragment,null,a):r.a.createElement(i.a,{to:"/"})},h=function(e){var t=e.isAuthenticated,a=e.children;return t?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(r.a.Fragment,null,a)},v=a(3),E=function(e,t){var a=Object(n.useState)(t),r=Object(v.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){var t=e.subscribe(l);return function(){return t.unsubscribe()}}),[]),c},p=a(6),g=a(15),k=a(30),x=function(e){var t=Object(n.useContext)(ae).deckService,a=localStorage.getItem("userId"),c=Object(n.useState)(!0),l=Object(v.a)(c,2),s=l[0],i=l[1];return console.log(a),Object(n.useEffect)((function(){a&&t.fetchDecks(a).then((function(e){var t={};localStorage.getItem("cardDict")&&(t=JSON.parse(localStorage.getItem("cardDict")));var a=new Set;e.forEach((function(e){e.cards.forEach((function(e){a.add(e)}))}));var n=[];return a.forEach((function(e){t[e]||n.push((function(){return k.PokemonTCG.Card.find(e)}))})),Promise.all(n.map((function(e){return e()})))})).then((function(e){var t=e.reduce((function(e,t){return Object(g.a)({},e,Object(p.a)({},t.id,t))}),{}),a={};localStorage.getItem("cardDict")&&(a=JSON.parse(localStorage.getItem("cardDict"))),localStorage.setItem("cardDict",JSON.stringify(Object(g.a)({},a,{},t)))})).finally((function(){return i(!1)}))}),[a]),s?r.a.createElement("span",null,"Loading..."):e.children},y=function(e){var t=e.children,a=e.showModal,c=e.closeModal;return function(e){var t=function(t){27===t.keyCode&&e()};Object(n.useEffect)((function(){return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[])}(c),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",onClick:function(){return c()}},r.a.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full outline-none focus:outline-none bg-blue-100 text-white-100"},t))),r.a.createElement("div",{className:"opacity-90 fixed inset-0 z-40 bg-black"})):null)},N=function(e){var t=e.children;return r.a.createElement("div",{className:"relative px-6 py-3 flex-auto"},t)},w=function(e){var t=e.children;return r.a.createElement("div",{className:"flex items-center justify-between p-5 rounded-t"},t)},O=function(e){var t=e.children;return r.a.createElement("div",{className:"flex items-center justify-end p-6 rounded-b"},t)},j=a(5),S=function(e){var t=e.showModal,a=e.closeModal,c=Object(o.a)(),l=c.register,s=c.handleSubmit,i=Object(n.useContext)(ae),u=i.deckService,m=i.myUserService,d=E(m.getMyUserId(),localStorage.getItem("userId"));return r.a.createElement(y,{showModal:t,closeModal:a},r.a.createElement("form",{onSubmit:s((function(e){e.cards=[],u.createDeck(d||"",e).then((function(e){return a()}))}))},r.a.createElement(w,null,r.a.createElement("h2",{className:"mr-3"},"New Deck"),r.a.createElement(j.a,{icon:"times",className:"cursor-pointer",onClick:function(){return a()}})),r.a.createElement(N,null,r.a.createElement("label",null,"Deck Name:"),r.a.createElement("input",{type:"text",name:"name",ref:l({required:!0}),className:"text-black"}),r.a.createElement("div",{className:"mt-3"},r.a.createElement("h4",null,"Formats:"),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:"standardLegal",ref:l()}),r.a.createElement("label",{className:"ml-3"},"Standard")),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:"expandedLegal",ref:l()}),r.a.createElement("label",{className:"ml-3"},"Expanded")))),r.a.createElement(O,null,r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Create Deck"))))},I=function(e){var t=e.deck,a=Object(n.useContext)(ae),c=a.deckService,l=a.myUserService,s=E(l.getMyUserId(),localStorage.getItem("userId")),o=Object(i.g)();return r.a.createElement("div",{className:"max-w-sm rounded overflow-hidden shadow-lg bg-white-100 cursor-pointer",onClick:function(e){return o.push("/dashboard/decks/".concat(t.deckId))}},r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"font-bold text-xl mb-2 flex-grow"},t.name),r.a.createElement(j.a,{icon:"trash",className:"cursor-pointer hover:text-orange-dull",onClick:function(e){var a,n;e.stopPropagation(),a=s||"",n=t.deckId?t.deckId:"",c.deleteDeck(a,n)}})),r.a.createElement("div",{className:"pt-4 flex items-center"},r.a.createElement("div",{className:"flex-grow"},t.standardLegal?r.a.createElement("span",{className:"inline-block bg-gray-med rounded-full py-1 px-3 text-sm font-semibold text-gray-700 mr-2"},"Standard"):null,t.expandedLegal?r.a.createElement("span",{className:"inline-block bg-gray-med rounded-full py-1 px-3 text-sm font-semibold text-gray-700 mr-2"},"Expanded"):null),r.a.createElement("span",{className:""},t.cards?t.cards.length:0," / 60"))))},C=function(e){var t=e.decks;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"grid grid-flow-col grid-cols-3 grid-rows-3 gap-4"},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(I,{deck:e,key:e.deckId})}))),t&&0===t.length?r.a.createElement("div",{className:"text-white-100 text-center"},"Looks like you don't have any decks yet! Click on the Plus icon to create a deck."):null)};function D(){var e=Object(i.g)(),t=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(v.a)(t,2),r=a[0],c=a[1],l=function(){return c(!0)},s=function(){return c(!1)};return[r,l,s]}(!1),a=Object(v.a)(t,3),c=a[0],l=a[1],s=a[2],o=Object(n.useContext)(ae),u=o.myUserService,m=o.deckService,d=E(m.getDecks(),void 0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{showModal:c,closeModal:function(){return s()}}),r.a.createElement("div",{className:"p-3 bg-blue-100 h-screen"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-grow"}),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){u.logout(),e.push("/")}},"Logout")),r.a.createElement("h1",{className:"text-center text-white-100 mb-5"},r.a.createElement("span",{className:"mr-2"},"My Decks"),r.a.createElement(j.a,{icon:"plus",className:"cursor-pointer",onClick:function(){return l()}})),r.a.createElement(C,{decks:d})))}var U=a(2),L=function(){var e=Object(o.a)(),t=e.register,a=e.handleSubmit,c=(e.errors,Object(n.useState)([])),l=Object(v.a)(c,2),u=l[0],d=l[1],b=Object(n.useState)({}),f=Object(v.a)(b,2),h=f[0],x=f[1],y=Object(i.h)().deckId,N=Object(n.useContext)(ae),w=N.deckService,O=N.toastService,S=E(w.getDeck(y),void 0);return r.a.createElement("div",{className:"bg-blue-100 h-screen text-white-100 p-4 flex flex-col"},r.a.createElement("div",{className:"relative mb-4"},r.a.createElement("span",{className:"absolute left-0"},r.a.createElement(s.b,{to:"/dashboard/decks/".concat(y)},r.a.createElement(j.a,{icon:"arrow-left",className:"cursor-pointer inline-block mr-4"})),r.a.createElement("h3",{className:"inline-block"},null===S||void 0===S?void 0:S.name)),r.a.createElement("h1",{className:"text-center"},"Card Search")),r.a.createElement("form",{onSubmit:a((function(e){var t=[{name:"name",value:e.name}];k.PokemonTCG.Card.where(t).then((function(e){d(e)}))}))},r.a.createElement("label",{className:"block"},"Card Name:"),r.a.createElement("input",{type:"text",className:"max-w-sm mb-4 mt-2 mr-4",name:"name",ref:t({required:!0})}),r.a.createElement("button",{className:"btn btn-primary mb-2",type:"submit"},"Search")),r.a.createElement("div",{className:"flex-grow overflow-y-auto"},u.map((function(e){var t=h[e.id],a=m("border-4 rounded inline-block p-3 m-1",{"border-transparent":!t,"border-blue-electric":t});return r.a.createElement("div",{key:e.id,className:a},r.a.createElement("img",{src:e.imageUrl,onClick:function(){return t=e.id,x(Object(g.a)({},h,Object(p.a)({},t,!h[t])));var t},className:"cursor-pointer",style:{maxWidth:245}}))}))),r.a.createElement("div",{className:"flex pt-4"},r.a.createElement("div",{className:"flex-grow"}),r.a.createElement("button",{className:m("btn btn-primary",{disabled:!Object.values(h).some((function(e){return e}))}),onClick:function(){return function(){if(S){var e=Object(g.a)({},S,{cards:[].concat(Object(U.a)(S.cards),Object(U.a)(Object.keys(h).filter((function(e){return h[e]}))))});w.updateDeck(y,e).then((function(){return O.showSuccessToast("Successfully added cards to deck.")})).catch((function(){return O.showErrorToast("Failed to add cards to deck.")}))}}()}},"Add Selected Cards")))},T=a(17),q=function(){var e=Object(i.h)().deckId,t=Object(n.useContext)(ae),a=t.deckService,c=t.toastService,l=E(a.getDeck(e),void 0),o=Object(n.useState)(""),u=Object(v.a)(o,2),d=u[0],b=u[1],f=Object(n.useState)(0),h=Object(v.a)(f,2),k=h[0],x=h[1],y=Object(i.g)(),N={};localStorage.getItem("cardDict")&&(N=JSON.parse(localStorage.getItem("cardDict")));var w=null===l||void 0===l?void 0:l.cards.map((function(e){return N[e]})),O=w&&N?w.reduce((function(e,t){return t?e[t.id]?Object(g.a)({},e,Object(p.a)({},t.id,Object(g.a)({},e[t.id],{quantity:e[t.id].quantity+1}))):Object(g.a)({},e,Object(p.a)({},t.id,new P(t,1))):e}),{}):{},S=O?Object.values(O):[],I=function(e){d===e?(b(""),x(0)):(b(e),x(O[e].quantity))};return r.a.createElement("div",{className:"bg-blue-100 h-screen text-white-100 p-4 flex flex-col"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"relative mb-4"},r.a.createElement("span",{className:"absolute left-0"},r.a.createElement(s.b,{to:"/dashboard"},r.a.createElement(j.a,{icon:"arrow-left",className:"cursor-pointer inline-block mr-4"})),r.a.createElement("h3",{className:"inline-block"},"Decks")),r.a.createElement("div",{className:"text-white-100 text-center"},r.a.createElement("h2",{className:"inline-block"},l?"(".concat(l.cards.length," / 60)"):null),r.a.createElement("h1",{className:"ml-4 mr-4 inline-block"},null===l||void 0===l?void 0:l.name),r.a.createElement(j.a,{icon:"plus",className:"cursor-pointer mb-1",onClick:function(){return y.push("/dashboard/decks/".concat(e,"/add"))}})))),r.a.createElement("div",{className:"body overflow-y-auto flex-grow"},r.a.createElement("div",{className:"text-center"},w?S.map((function(t){var n=t.card.id===d,s=t.quantity===k,i=0===k,o=k>=60,u=m("border-4 rounded inline-block p-3 m-1 relative",{"border-transparent":!0});return r.a.createElement("div",{key:t.card.id,className:u},r.a.createElement("div",{className:"fab bg-orange-dull",style:{right:0,top:0}},"x".concat(n?k:t.quantity)),r.a.createElement("img",{src:t.card.imageUrl,onClick:function(){return I(t.card.id)},className:"cursor-pointer",style:{maxWidth:245}}),r.a.createElement("div",{className:"fab bg-orange-dull right-0 bottom-0 transition duration-500 cursor-pointer",style:{top:n?"calc(100% - 40px)":"50%",left:n?0:"calc(50% - 20px)",opacity:n&&!i?1:0},onClick:function(){return i?null:x(k-1)}},r.a.createElement(j.a,{icon:"minus",className:"cursor-pointer"})),r.a.createElement("div",{className:"fab bg-error right-0 bottom-0 transition duration-500 cursor-pointer",style:{top:n?"calc(100% - 40px)":"50%",right:n?"calc(50% + 20px)":"calc(50% - 20px)",opacity:n&&!s?1:0},onClick:function(){return I(t.card.id)}},r.a.createElement(j.a,{icon:"times",className:"cursor-pointer"})),r.a.createElement("div",{className:"fab bg-orange-dull right-0 bottom-0 transition duration-500 cursor-pointer",style:{top:n?"calc(100% - 40px)":"50%",right:n?0:"calc(50% - 20px)",opacity:n&&!o?1:0},onClick:function(){return o?null:x(k+1)}},r.a.createElement(j.a,{icon:"plus",className:"cursor-pointer"})),r.a.createElement("div",{className:"fab  bg-green right-0 bottom-0 transition duration-500 cursor-pointer",style:{top:n?"calc(100% - 40px)":"50%",right:n?"calc(50% - 60px)":"calc(50% - 20px)",opacity:n&&!s?1:0},onClick:function(){return function(){var t=null===l||void 0===l?void 0:l.cards.findIndex((function(e){return e===d}));if(void 0!==t&&t>=0&&l){var n=null===l||void 0===l?void 0:l.cards.filter((function(e){return e!==d})),r=new Array(k);r.fill(d),null===n||void 0===n||n.splice.apply(n,[t,0].concat(r));var s=Object(g.a)({},l,{cards:n});a.updateDeck(e,s).catch((function(e){return c.showErrorToast("Failed to update deck")})).finally((function(){return b("")}))}}()}},r.a.createElement(j.a,{icon:"check",className:"cursor-pointer"})))})):null,w&&0===w.length?r.a.createElement("div",{className:"mt-4"},"Looks like your deck doesn't have any cards yet! Click on the plus icon to search for cards to add."):null)))},P=function e(t,a){Object(T.a)(this,e),this.quantity=void 0,this.card=void 0,this.card=t,this.quantity=a},M=function(){var e=Object(i.g)(),t=Object(i.i)().path;return r.a.createElement(i.c,{history:e},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:t},r.a.createElement(q,null)),r.a.createElement(i.b,{exact:!0,path:"".concat(t,"/add")},r.a.createElement(L,null))))},z=function(){var e=Object(i.g)(),t=Object(i.i)().path;return r.a.createElement(i.c,{history:e},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:t},r.a.createElement(x,null,r.a.createElement(D,null))),r.a.createElement(i.b,{path:"".concat(t,"/decks/:deckId")},r.a.createElement(x,null,r.a.createElement(M,null)))))};function A(){var e=Object(n.useContext)(ae).myUserService,t=E(e.getIsLoggedIn(),!!localStorage.getItem("authorizationHeader"));return r.a.createElement(s.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(h,{isAuthenticated:t},r.a.createElement(b,null,r.a.createElement(d,null)))),r.a.createElement(i.b,{exact:!0,path:"/signup"},r.a.createElement(h,{isAuthenticated:t},r.a.createElement(b,null,r.a.createElement(u,null)))),r.a.createElement(i.b,{path:"/dashboard"},r.a.createElement(f,{isAuthenticated:t},r.a.createElement(z,null)))))}var F,H=a(24),_=a(115);!function(e){e.success="success",e.error="error"}(F||(F={}));var J=function(){function e(){Object(T.a)(this,e),this.toasts=new _.a([])}return Object(H.a)(e,[{key:"getToasts",value:function(){return this.toasts.asObservable()}},{key:"showSuccessToast",value:function(e){this.toasts.next([].concat(Object(U.a)(this.toasts.value),[new G(F.success,e)]))}},{key:"showErrorToast",value:function(e){this.toasts.next([].concat(Object(U.a)(this.toasts.value),[new G(F.error,e)]))}},{key:"removeToast",value:function(e){var t=this,a=this.toasts.value,n=Object(U.a)(a);return n[e].visible=!1,this.toasts.next(n),new Promise((function(e){setTimeout(e,200)})).then((function(){return t.toasts.next(t.toasts.value.filter((function(t,a){return a!==e})))}))}}]),e}(),G=function e(t,a,n){Object(T.a)(this,e),this.type=void 0,this.message=void 0,this.visible=void 0,this.type=t,this.message=a,this.visible=n||!0};function W(e){var t=e.toastModel,a=e.id,c=Object(n.useContext)(ae).toastService,l=m("text-white-100 p-4 w-4/5 rounded-md transition duration-500 ease-in-out mt-4 items-center flex z-50",{"opacity-100":t.visible,"opacity-0":!t.visible,"bg-green":t.type===F.success,"bg-error":t.type===F.error});return r.a.createElement("div",{className:l},r.a.createElement("div",{className:"flex-grow"},t.message),r.a.createElement(j.a,{icon:"times",className:"cursor-pointer",onClick:function(){return c.removeToast(a)}}))}var R=function(){var e=Object(n.useContext)(ae).toastService,t=E(e.getToasts(),[]);return r.a.createElement("div",{className:"absolute top-0 w-full flex justify-center flex-col items-center"},t.map((function(e,t){return r.a.createElement(W,{toastModel:e,id:t,key:t})})))},B=a(27),$=a(22),K=a(61),Q=a(36),V=a.n(Q),X=a(114),Y=function(){function e(t){Object(T.a)(this,e),this.http=t,this._userDecks=new _.a([])}return Object(H.a)(e,[{key:"fetchDecks",value:function(e){var t=this;return this.http.get("/users/".concat(e,"/decks")).then((function(e){return t._userDecks.next(e.data),e.data}))}},{key:"getDecks",value:function(){return this._userDecks.asObservable()}},{key:"getDeck",value:function(e){return this.getDecks().pipe(Object(X.a)((function(t){return t?t.find((function(t){return t.deckId===e})):void 0})))}},{key:"updateDeck",value:function(e,t){var a=this;return this.http.put("/decks/".concat(e),t).then((function(t){if(t&&t.data){var n=a._userDecks.value;n&&a._userDecks.next(n.map((function(a){return a.deckId===e?t.data:a})))}}))}},{key:"deleteDeck",value:function(e,t){var a=this;return this.http.delete("/users/".concat(e,"/decks/").concat(t)).then((function(e){e.data&&a._userDecks.next(e.data)}))}},{key:"createDeck",value:function(e,t){var a=this;return this.http.post("/users/".concat(e,"/decks"),t).then((function(e){if(e.data){var t=a._userDecks.value;a._userDecks.next(t.concat(e.data))}return e}))}}]),e}(),Z=function(){function e(t,a){Object(T.a)(this,e),this.http=t,this.loginApi=a,this.myUserId=new _.a(localStorage.getItem("userId")),this.isLoggedIn=new _.a(!!localStorage.getItem("authorizationHeader"));var n=localStorage.getItem("authorizationHeader");n&&this.setAuthorizationHeader(n)}return Object(H.a)(e,[{key:"getIsLoggedIn",value:function(){return this.isLoggedIn.asObservable()}},{key:"getMyUserId",value:function(){return this.myUserId.asObservable()}},{key:"signUp",value:function(e){return this.http.post("/users",e)}},{key:"setAuthorizationHeader",value:function(e){e?(this.isLoggedIn.next(!0),localStorage.setItem("authorizationHeader",e),this.http.interceptors.request.use((function(t){return t.headers.authorization=e,t}))):this.isLoggedIn.next(!1)}},{key:"logout",value:function(){localStorage.removeItem("authorizationHeader"),localStorage.removeItem("userId"),this.isLoggedIn.next(!1),window.location.reload()}},{key:"login",value:function(e){var t=this;return this.loginApi.post("/login",e).then((function(e){return e&&e.headers&&e.headers.authorization&&t.setAuthorizationHeader(e.headers.authorization),e&&e.headers&&e.headers.userid&&(t.myUserId.next(e.headers.userid),localStorage.setItem("userId",e.headers.userid)),new Promise((function(e){setTimeout(e,100)}))}))}}]),e}(),ee=V.a.create({baseURL:"/api",timeout:1e3}),te={http:ee,myUserService:new Z(ee,V.a.create({baseURL:"/",timeout:1e3})),toastService:new J,deckService:new Y(ee)};B.b.add(K.a,$.e,$.d,$.f,$.a,$.b,$.c);var ae=r.a.createContext(te);var ne=function(){return r.a.createElement(ae.Provider,{value:te},r.a.createElement(R,null),r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){e.exports=a(112)},67:function(e,t,a){},68:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.960427e5.chunk.js.map